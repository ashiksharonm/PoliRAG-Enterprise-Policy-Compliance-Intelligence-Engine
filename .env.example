# PoliRAG Configuration

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001
API_WORKERS=4
ENVIRONMENT=development

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_EMBEDDING_DIMENSIONS=3072
OPENAI_LLM_MODEL=gpt-4-turbo-preview
OPENAI_MAX_RETRIES=3
OPENAI_TIMEOUT=60

# Chunking Configuration
CHUNK_SIZE=512
CHUNK_OVERLAP=77
CHUNK_MIN_SIZE=300
CHUNK_MAX_SIZE=600

# Vector Store Configuration
FAISS_INDEX_PATH=./indexes/faiss
FAISS_METADATA_PATH=./indexes/metadata
FAISS_INDEX_TYPE=IndexFlatIP
VECTOR_DIMENSION=3072

# Retrieval Configuration
RETRIEVAL_TOP_K=20
RETRIEVAL_RERANK_TOP_K=5
RETRIEVAL_BM25_WEIGHT=0.3
RETRIEVAL_SEMANTIC_WEIGHT=0.7
RETRIEVAL_MIN_CONFIDENCE=0.65

# Reranking Configuration
RERANK_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANK_BATCH_SIZE=32

# Generation Configuration
GENERATION_MAX_TOKENS=1024
GENERATION_TEMPERATURE=0.1
GENERATION_REQUIRE_CITATION=true
GENERATION_CONFIDENCE_THRESHOLD=0.65

# Guardrails Configuration
ENABLE_PII_REDACTION=true
ENABLE_RBAC=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
PII_DETECTION_MODEL=en_core_web_sm

# Data Paths
DATA_RAW_PATH=./data/raw
DATA_STAGED_PATH=./data/staged
DATA_MANIFESTS_PATH=./data/manifests

# Caching Configuration
ENABLE_EMBEDDING_CACHE=true
ENABLE_QUERY_CACHE=true
CACHE_TTL_SECONDS=3600

# Observability
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_PORT=9090

# Evaluation
EVAL_DATASET_PATH=./data/eval/golden_qa.json
EVAL_MIN_RECALL_AT_K=0.85
EVAL_MIN_MRR=0.75
EVAL_MAX_HALLUCINATION_RATE=0.05

# Multi-tenancy
DEFAULT_TENANT_ID=default
ENABLE_TENANT_ISOLATION=true